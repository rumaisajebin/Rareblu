{% extends 'user/base.html' %}
{% block main %}
<div class="container my-3">
  
<form method="post" action="{% url 'addaddress_perform' %}">
  {% csrf_token %}
  <div class="row g-3">
    <div class="col-md-7">
      <label for="custName" class="form-label">Customer Name</label>
      <input type="text" class="form-control" name="fullName" id="custName" required>
      <div class="invalid-feedback">
        Please enter a valid customer name.
      </div>
    </div>


    <div class="col-12">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" name="address1" required>
      <div class="invalid-feedback">
        Please enter your shipping address.
      </div>
    </div>
    <div class="col-12">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" name="address2" required>
      <div class="invalid-feedback">
        Please enter your shipping address.
      </div>
    </div>
    <div class="col-12">
      <label for="address2" class="form-label">Phone Number</label>
      <input type="text" class="form-control" id="custAdd2" name="phonenumber1">
    </div>

    <div class="col-12">
      <label for="address2" class="form-label">Phone Number</label>
      <input type="text" class="form-control" id="custAdd2" name="phonenumber2">
    </div>

    <div class="col-mod-5">
      <label for="city" class="form-label">State</label>
      <select class="form-select" name="city" id="city" required>
        <option value="state">Choose..</option>
        <option>kerala</option>
      </select>
      <div class="invalid-feedback">
        Please select a valid State.
      </div>
    </div>


    <div class="col-md-3">
      <label for="Pincode" class="form-label">Pincode</label>
      <input type="text" class="form-control" id="Pincode" name="pincode" required>
      <div class="invalid-feedback">
        Zip code required.
      </div>
    </div>
  </div>

  <hr class="my-4">
  <button id="submit" class="btn btn-primary w-100 fw-bold" >Add</button>

</form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('submit').addEventListener('click', function (event) {
        const fullName = document.getElementById('custName');
        const address1 = document.getElementById('address');
        const address2 = document.getElementById('address2');
        const phoneNumber1 = document.getElementById('custAdd2');
        const phoneNumber2 = document.getElementById('custAdd2');
        const pincode = document.getElementById('Pincode');
        const errorMessages = [];
  
        if (!/^[A-Za-z]+$/.test(fullName.value.trim())) {
          errorMessages.push('Please enter a valid customer name without numbers or special characters.');
          fullName.classList.add('is-invalid');
        } else {
          fullName.classList.remove('is-invalid');
        }
  
        if (!/^\d+$/.test(phoneNumber1.value.trim())) {
          errorMessages.push('Please enter a valid phone number without spaces or special characters.');
          phoneNumber1.classList.add('is-invalid');
        } else {
          phoneNumber1.classList.remove('is-invalid');
        }
  
        if (!/^\d+$/.test(phoneNumber2.value.trim())) {
          errorMessages.push('Please enter a valid phone number without spaces or special characters.');
          phoneNumber2.classList.add('is-invalid');
        } else {
          phoneNumber2.classList.remove('is-invalid');
        }
  
        if (!/^\d+$/.test(pincode.value.trim())) {
          errorMessages.push('Please enter a valid pincode without spaces or special characters.');
          pincode.classList.add('is-invalid');
        } else {
          pincode.classList.remove('is-invalid');
        }
  
        if (errorMessages.length > 0) {
          event.preventDefault(); // Prevent form submission if there are errors
          // Display error messages or handle them as needed
          console.log(errorMessages);
        }
      });
    });
  </script>
  
  
{% endblock main %}
