{% extends 'user/base.html' %}
{% block main %}
<div class="container my-3">
  
<form method="post" action="{% url 'edit_addressperform' address.id %}" id="editAddressForm">


  {% csrf_token %}

  <div class="row g-3">
    <div class="col-md-7">
      <label for="custName" class="form-label">Customer Name</label>
      <input type="text" class="form-control" name="fullName" id="custName" value="{{ address.full_name }}" required>
      <div class="invalid-feedback">
        Please enter a valid customer name.
      </div>
    </div>


    <div class="col-12">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" name="address1" value="{{ address.address1 }}" required>
      <div class="invalid-feedback">
        Please enter your shipping address.
      </div>
    </div>
    <div class="col-12">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" name="address2" value="{{ address.address2 }}" required>
      <div class="invalid-feedback">
        Please enter your shipping address.
      </div>
    </div>
    <div class="col-12">
      <label for="address2" class="form-label">Phone Number</label>
      <input type="text" class="form-control" id="custAdd2" name="phonenumber1" value="{{ address.phone_1 }}">
    </div>

    <div class="col-12">
      <label for="address2" class="form-label">Phone Number</label>
      <input type="text" class="form-control" id="custAdd2" name="phonenumber2" value="{{ address.phone_2 }}">
    </div>

    <div class="col-mod-5">
      <label for="city" class="form-label">State</label>
      <input type="text" class="form-control" id="custAdd2" name="phonenumber2" value="{{ address.city }}">
     
      <div class="invalid-feedback">
        Please select a valid State.
      </div>
    </div>


    <div class="col-md-3">
      <label for="Pincode" class="form-label">Pincode</label>
      <input type="text" class="form-control" id="Pincode" name="pincode" value="{{ address.pincode }}" required>
      <div class="invalid-feedback">
        Zip code required.
      </div>
    </div>
  </div>

  <hr class="my-4">
  <button id="submit" class="btn btn-primary w-100 fw-bold" >save</button>

</form>
  </div>

  
<script>
  document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('editAddressForm').addEventListener('submit', function (event) {
          const fullName = document.getElementById('custName');
          const address1 = document.getElementById('address');
          const address2 = document.getElementById('address');
          const phoneNumber1 = document.getElementById('custAdd2');
          const phoneNumber2 = document.getElementById('custAdd2');
          const pincode = document.getElementById('Pincode');
          const state = document.getElementById('custAdd2');

          const errorMessages = [];

          // Validation for each field
          if (!fullName.value.trim()) {
              errorMessages.push('Please enter a valid customer name.');
              fullName.classList.add('is-invalid');
          } else {
              fullName.classList.remove('is-invalid');
          }

          if (!address1.value.trim()) {
              errorMessages.push('Please enter your shipping address.');
              address1.classList.add('is-invalid');
          } else {
              address1.classList.remove('is-invalid');
          }

          // Add validations for other fields similarly

          if (errorMessages.length > 0) {
              event.preventDefault(); // Prevent form submission if there are errors
              // Display error messages or handle them as needed
              console.log(errorMessages);
          }
      });
  });
</script>

{% endblock main %}
